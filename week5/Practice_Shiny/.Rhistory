head(rn)
## 欄位名稱
##欄位 | 名稱 | 類別 |
##  -----|------|------|
##  ID | 行號 | character|
##  Name |運動員姓名 | character|
##  Sex |男或女 | factor |
##  Age |年齡 |integer|
##  Height |身高(公分)| numeric |
##  Weight |體重(公斤)| numeric |
##  Team |團隊名稱 | character |
##  NOC |國家奧委會三字母代碼 | character |
##  Games |年分與季度 | character |
##  Year |年| integer |
##  Season |夏季或冬季 | factor |
##  City |主辦城市 | character |
##  Sport |比賽運動 | character |
##  Event |比賽項目 | character |
##  Medal |金、銀、銅或NA | factor|
## 建立BMI
rn$BMI <- rn$Weight / ((rn$Height/100)^2)
## 重新檢視，可以看出多出了BMI
head(rn)
## 篩選出男女、以及不使用NA
rn_M<-subset(rn,Sex == "M")
rn_M_n<-subset(rn_M,BMI != "NA")
rn_F<-subset(rn,Sex == "F")
rn_F_n<-subset(rn_F,BMI != "NA")
## 歷年來男女的BMI平均值
mean_rn_f<-data.frame(trt = c("M","F"), outcome = c(mean(rn_M_n$BMI), mean(rn_F_n$BMI)))
mean_rn_f
ggplot(mean_rn_f, aes(trt, outcome)) + geom_col(width = 0.9)
## 歷年來年齡與得獎的統計
#建立一個新表單，移除沒有獎項的
rn_ns <-subset(rn,Medal != "NA")
#篩選出金牌
rn_MG <-subset(rn_ns,Medal == "Gold")
rn_Mx <- as.data.frame(table(rn_MG$Age))
colnames(rn_Mx) <- c("Age","Gold")
#篩選出銀牌
rn_MS <-subset(rn_ns,Medal == "Silver")
rn_MSx <- as.data.frame(table(rn_MS$Age))
colnames(rn_MSx) <- c("Age","Silver")
#篩選出銅牌
rn_MB <-subset(rn_ns,Medal == "Bronze")
rn_MBx <- as.data.frame(table(rn_MB$Age))
colnames(rn_MBx) <- c("Age","Bronze")
#合併資料框
rn_Mx <-  merge(rn_Mx, rn_MSx, by="Age", all = TRUE)
rn_Mx <-  merge(rn_Mx, rn_MBx, by="Age", all = TRUE)
#將合併後資料框中的NA值轉換為0
rn_Mx[is.na(rn_Mx)] <- 0
#輸出圖片
ggplot(rn_Mx, aes(x = Age)) +
geom_line(aes(y = Gold, group = 1,colour = "red")) +
geom_line(aes(y = Silver, group = 2,colour = "green")) +
geom_line(aes(y = Bronze, group = 3,colour = "blue"))+ xlab("年齡") + ylab("數量") +
scale_colour_discrete(name="獎項",breaks = c('red','green','blue'), labels = c('金牌','銀牌','銅牌')) +
ggtitle("歷年來年齡與得獎的關係\n單位(人)")
# 由此可知，雖然年齡跟得獎人數有非常大的關係，主要集中在青壯年期時較高。但是若要論得甚麼獎，則是跟年齡沒有太大關係的。
# 下為為了產生上圖而重新整理出的資料，以供參考
kable(rn_Mx)
un_data <- read_csv("ROC_82-106_UNEMPLOYMENT2.csv
)
# Define UI for application that draws a histogram
ui <- fluidPage(
# Application title
titlePanel("中華民國歷年失業率"),
# Sidebar with a slider input for number of bins
sidebarLayout(
sidebarPanel(
sliderInput("bins",
"Number of bins:",
min = 1,
max = 50,
value = 30)
),
# Show a plot of the generated distribution
mainPanel(
plotOutput("distPlot")
)
)
)
# Define server logic required to draw a histogram
server <- function(input, output) {
output$distPlot <- renderPlot({
# generate bins based on input$bins from ui.R
x    <- un_data[,1]
bins <- seq(min(x), max(x), length.out = input$bins + 1)
# draw the histogram with the specified number of bins
hist(x, breaks = bins, col = 'darkgray', border = 'white')
})
}
# Run the application
shinyApp(ui = ui, server = server)
un_data <- read_csv("ROC_82-106_UNEMPLOYMENT2.csv
")
un_data <- read_csv("ROC_82-106_UNEMPLOYMENT2.csv")
ggplot(un_data, aes(AGE,82)) + geom_bar(position="dodge")
ggplot(un_data, aes(AGE,"82)) + geom_bar(position="dodge")
ggplot(un_data, aes(AGE,"82")) + geom_bar(position="dodge")
ggplot(un_data, aes(YEAR,"82")) + geom_col(width = 0.9)
ggplot(un_data, aes(YEAR,"82")) + geom_col(width = 0.9)
ggplot(un_data, aes(AGE,"82")) + geom_col(width = 0.9)
ggplot(un_data, aes(AGE,82)) + geom_col(width = 0.9)
ggplot(un_data, aes(AGE)) + geom_col(width = 0.9)
ggplot(un_data, aes(AGE,82)) + geom_col(width = 0.9)
ggplot(un_data, aes(AGE,un_data[2,])) + geom_col(width = 0.9)
un_data[2,]
un_data[1,]
un_data[,1]
un_data[,2]
ggplot(un_data, aes(AGE,un_data[,2])) + geom_col(width = 0.9)
ggplot(un_data, aes(AGE,un_data[,2])) + geom_col(width = 0.9)
un_data[,2]
ggplot(un_data, aes(AGE,82)) + geom_col(width = 0.9)
un_data[,1]
un_data[1,]
un_data[1,]
# generate bins based on input$bins from ui.R
x    <- un_data[1,]
runApp()
# Define UI for application that draws a histogram
ui <- fluidPage(
# Application title
titlePanel("中華民國歷年失業率"),
# Sidebar with a slider input for number of bins
sidebarLayout(
sidebarPanel(
sliderInput("bins",
"Number of bins:",
min = 82,
max = 106,
value = 1)
),
# Show a plot of the generated distribution
mainPanel(
plotOutput("distPlot")
)
)
)
runApp()
# draw the histogram with the specified number of bins
hist(x, breaks = bins, col = 'darkgray', border = 'white')
# draw the histogram with the specified number of bins
hist(un_data[1,], breaks = bins, col = 'darkgray', border = 'white')
# draw the histogram with the specified number of bins
hist(un_data[1,], breaks = bins, col = 'darkgray', border = 'white')
# draw the histogram with the specified number of bins
hist(un_data[1,], breaks = bins, col = 'darkgray', border = 'white')
# generate bins based on input$bins from ui.R
x    <- un_data[1,]
View(x)
View(x)
View(x)
View(faithful)
un_data <- read_csv("ROC_82-106_UNEMPLOYMENT2.csv")
View(faithful)
class(faithful)
class(faithful[1])
class(faithful[1,])
class(faithful[,1])
class(un_data)
un_data <- read_csv("ROC_82-106_UNEMPLOYMENT.csv")
# draw the histogram with the specified number of bins
hist(x, breaks = bins, col = 'darkgray', border = 'white')
runApp()
ggplot(un_data, aes(un_data[,1])) + geom_bar(position="dodge")
ggplot(un_data, aes() + geom_bar(position="dodge")
ggplot(un_data, aes(15~19) + geom_bar(position="dodge")
un_data
rownames(un_data) <- c(82:106)
un_data
rownames(un_data) <- c(82:106)
rownames(un_data) <- c(82:106)
rownames(un_data) <- c(82:106)
rownames(un_data) <- c("82")
rownames(un_data) <- c(82:106)
un_data
un_data
class(un_data)
un_data <- read_csv("ROC_82-106_UNEMPLOYMENT.csv")
matrix(un_data)
rownames(un_data) <- c(82:106)
un_data[1,]
un_data[2,]
un_data[,1]
un_data[,2]
un_data[,3]
ggplot(un_data, aes(82)) + geom_bar(position="dodge")
ggplot(un_data, aes(82)) + geom_bar()
ggplot(un_data, aes([2,])) + geom_bar()
ggplot(un_data, aes(un_data[2,])) + geom_bar()
ggplot(un_data, aes(15~19)) + geom_bar()
ggplot(un_data, aes("15~19")) + geom_bar()
ggplot(un_data, aes("82")) + geom_bar()
ggplot(un_data, aes("15~19","82")) + geom_bar()
ggplot(un_data, aes("15~19","82")) + geom_bar()
ggplot(un_data, aes("82","15~19")) + geom_bar()
faithful
head(faithful)
faithful[,2]
faithful[,2]
un_data <- read_csv("ROC_82-106_UNEMPLOYMENT.csv")
un_data <- read_csv("ROC_82-106_UNEMPLOYMENT.csv")
un_data <- read_csv("ROC_82-106_UNEMPLOYMENT.csv")
un_data <- read_csv("ROC_82-106_UNEMPLOYMENT.csv")
runApp()
faithful[,2]
class(faithful[,2])
class(un_data[,1])
class(un_data[,1])
class(faithful)
class(un_data)
class(un_data[1,2])
data.frame(un_data)
class(un_data[1,2])
class(un_data)
class(faithful)
class(faithful)
class(un_data)
un_data <- read_csv("ROC_82-106_UNEMPLOYMENT.csv",
col_types = col(
year=col_number()
))
un_data <- read_csv("ROC_82-106_UNEMPLOYMENT.csv",
col_types = col(
YEAR=col_number()
))
as.numeric(un_data)
as.numeric(un_data[1,])
as.numeric(un_data[1,])
as.numeric(un_data[,1])
as.numeric(un_data[,2])
un_data[,2]
un_data[,1]
as.numeric(un_data[,1])
#rownames(un_data) <- c(82:106)
# Define UI for application that draws a histogram
ui <- fluidPage(
# Application title
titlePanel("中華民國歷年失業率"),
# Sidebar with a slider input for number of bins
sidebarLayout(
sidebarPanel(
sliderInput("bins",
"Number of bins:",
min = 82,
max = 106,
value = 1)
),
# Show a plot of the generated distribution
mainPanel(
plotOutput("distPlot")
)
)
)
un_data[1,]
un_data[2,]
un_data[1,]
un_data[2,]
un_data
faithful
un_data <- read_csv("ROC_82-106_UNEMPLOYMENT.csv")
YEAR = col_integer(),
`15~19` = col_integer(),
`20~24` = col_integer(),
`25~29` = col_integer(),
`30~34` = col_integer(),
`35~39` = col_integer(),
`40~44` = col_integer(),
`45~49` = col_integer(),
`50~54` = col_integer(),
`55~59` = col_integer(),
`60~64` = col_integer(),
`65UP` = col_integer())
un_data <- read_csv("ROC_82-106_UNEMPLOYMENT.csv",
col_types = cols(
YEAR = col_integer(),
`15~19` = col_integer(),
`20~24` = col_integer(),
`25~29` = col_integer(),
`30~34` = col_integer(),
`35~39` = col_integer(),
`40~44` = col_integer(),
`45~49` = col_integer(),
`50~54` = col_integer(),
`55~59` = col_integer(),
`60~64` = col_integer(),
`65UP` = col_integer())
)
un_data <- read_csv("ROC_82-106_UNEMPLOYMENT.csv",
col_types = cols(
YEAR = col_number(),
`15~19` = col_integer(),
`20~24` = col_integer(),
`25~29` = col_integer(),
`30~34` = col_integer(),
`35~39` = col_integer(),
`40~44` = col_integer(),
`45~49` = col_integer(),
`50~54` = col_integer(),
`55~59` = col_integer(),
`60~64` = col_integer(),
`65UP` = col_integer())
)
un_data
runApp()
un_data <- read_csv("ROC_82-106_UNEMPLOYMENT.csv",)
un_data <- read_csv("ROC_82-106_UNEMPLOYMENT.csv")
# generate bins based on input$bins from ui.R
x    <- un_data[,1]
x
x
x
x
x
min(x)
max(x)
hist(x)
hist(as.numberic(x))
hist(as.numeric(x))
hist(as.numeric(x))
hist(x)
x
x[1]
x[2]
x[1,1]
x[1,2]
x[1,1]
x[2,1]
x[3,1]
x[4,1]
un_data <- read_csv("ROC_82-106_UNEMPLOYMENT.csv")
faithful
ggplot(data=un_data) + geom_histogram(aes(X=YEAR,Y=15~19))
ggplot(data=un_data) + geom_histogram(aes(X=YEAR,Y=15~19))
ggplot(data=un_data) + geom_histogram(aes(x=YEAR,y=15~19))
ggplot(data=un_data) + geom_histogram(aes(x=YEAR,y="15~19"))
ggplot(data=un_data) + geom_histogram(aes(y=YEAR,x="15~19"))
ggplot(data=un_data) + geom_histogram(aes(y=YEAR,x="15~19"))c
canvas
airquality
ggplot(un_data,aes(YEAR,"15~19")) + geom_col
ggplot(un_data,aes(YEAR,"15~19")) + geom_col()
ggplot(un_data,aes("15~19",YEAR)) + geom_col()
ggplot(un_data,aes("15~19","82")) + geom_col()
ggplot(un_data,aes(YEAR)) + geom_col()
ggplot(un_data,aes(YEAR)) + geom_col()
ggplot(un_data,aes(YEAR)) + geom_bar()
mpg
ggplot(un_data,aes(YEAR)) + geom_bar()
ggplot(mpg,aes(year))+geom_bar()
ggplot(un_data,aes(15~29)) + geom_bar()
ggplot(un_data,aes("15~29")) + geom_bar()
ggplot(un_data,aes(YEAR)) + geom_bar()
ggplot(un_data,aes(YEAR)) + geom_bar()
colnames(un_data)
colnames(un_data[-1])
un_data[-1,2]
un_data[-1,1]
un_data[1,]
un_data[1,]
un_data[1,-1]
un_data[1,-1]
un_data_f<-data.frame(trt = c(colnames(un_data)[-1]), outcome =un_data[1,-1])
un_data_f
un_data_f<-data.frame(outcome = c(colnames(un_data)[-1]), trt =un_data[1,-1])
un_data_f
un_data_f<-data.frame(age = c(colnames(un_data)[-1]), trt = un_data[1,-1])
un_data_f
ggplot(mean_rn_f, aes(trt, outcome)) + geom_col(width = 0.9)
ggplot(un_data_f, aes(trt, outcome)) + geom_col(width = 0.9)
ggplot(un_data_f, aes(age,trt)) + geom_col(width = 0.9)
un_data_f<-data.frame(age = c(colnames(un_data)[-1]), trt = un_data[1,-1])
un_data_f
ggplot(un_data_f, aes(age,trt)) + geom_col(width = 0.9)
un_data_f<-data.frame(age = c(colnames(un_data)[-1]), trt = c(un_data[1,-1]))
un_data_f
ggplot(un_data_f, aes(age,trt)) + geom_col(width = 0.9)
ggplot(un_data_f, aes(age,trt.15.19)) + geom_col(width = 0.9)
ggplot(un_data_f, aes(age,trt.15.19,trt.20.24)) + geom_col(width = 0.9)
ggplot(un_data_f, aes(age,trt.15.19,trt.20.24)) + geom_col(width = 0.9)
un_data_f
ggplot(un_data_f, aes(age,trt.15.19,trt.20.24)) + geom_col(width = 0.9)
un_data_f<-data.frame(age = c(colnames(un_data)[-1]),un_data[1,-1])
un_data_f
un_data_f<-data.frame(colnames(un_data),un_data)
un_data_f<-data.frame(colnames(un_data),un_data[1,])
un_data_f
un_data_f<-data.frame(colnames(un_data),un_data)
un_data <- read_csv("ROC_82-106_UNEMPLOYMENT.csv")
un_data_f<-data.frame(colnames(un_data),un_data)
un_data[12,24]
un_data[12,25]
un_data[12,25]
un_data_f<-data.frame(colnames(un_data))
un_data_f
un_data_f<-data.frame(rownames(un_data))
un_data_f
un_data_f<-data.frame(colnames(un_data))
un_data_f
un_data_f<-data.frame(un_data)
un_data_f
un_data_f<-data.frame(un_data[-1,])
un_data_f
un_data[-1,]
un_data[,-1]
un_data_f<-data.frame(un_data[,-1])
un_data_f
un_data_f
ggplot(un_data_f, aes(1)) + geom_col(width = 0.9)
colnames(un_data_f)<-un_data[,1]
un_data_f
un_data <- read_csv("ROC_82-106_UNEMPLOYMENT.csv")
un_data_f<-data.frame(un_data[,-1])
colnames(un_data_f)
rownames(un_data_f)
rownames(un_data)
rownames(un_data)
un_data[,1]
un_data <- read_csv("ROC_82-106_UNEMPLOYMENT.csv")
un_data_f<-data.frame(un_data[,-1])
rownames(un_data_f)<-un_data[,1]
row.names(un_data_f)<-un_data[,1]
row.names(un_data_f)<-c(un_data[,1])
rownames(un_data_f)<-c(un_data[,1])
row.names()
row.names(un_data_f)
row.names(un_data_f)
un_data[,1]
un_data[,1]
un_data[,1]
un_data[,1]
row.names(un_data_f) <-c (un_data[,1])
row.names(un_data_f) <-un_data[,1]
un_data[,1]
un_data[,1]
un_data[,2]
un_data[,1]
un_data[1,1]
un_data[-1,1]
un_data[,1]
row.names(un_data_f) <-c(82:106)
un_data_f
ggplot(un_data_f, aes(1)) + geom_col(width = 0.9)
ggplot(un_data_f, aes("106")) + geom_col(width = 0.9)
ggplot(un_data_f, aes("106")) + geom_col(width = 0.9)
ggplot(un_data_f, aes(y="106")) + geom_col(width = 0.9)
ggplot(un_data_f, aes("106")) + geom_col(width = 0.9)
ggplot(un_data_f, aes("106",0)) + geom_col(width = 0.9)
ggplot(un_data_f, aes(0,"106")) + geom_col(width = 0.9)
ggplot(un_data_f, aes(0,1)) + geom_col(width = 0.9)
ggplot(un_data_f, aes(1,2)) + geom_col(width = 0.9)
ggplot(un_data_f, aes(YEAR,)) + geom_col(width = 0.9)
un_data_f
#
# This is a Shiny web application. You can run the application by clicking
# the 'Run App' button above.
#
# Find out more about building applications with Shiny here:
#
#    http://shiny.rstudio.com/
#
library(readr)
library(shiny)
library(ggplot2)
un_data <- read_csv("ROC_82-106_UNEMPLOYMENT.csv")
un_data
class(un_data)
library(tidyr)
install.packages('tidyr')
library(tidyr)
names(un_data)
un_data %>%
gather("15~19":"20~24")
un_data %>%
gather("15~19":"20~24") %>%
View
names(un_data)
un_data %>%
gather(x, y, -YEAR) %>%
View
un_data %>%
gather(age, un, -YEAR) %>%
View
un_data %>%
gather(age, un, -YEAR) %>%
View
ggplot(un_data, aes(x=YEAR, y=age, fill=un) +
ggplot(un_data, aes(x=YEAR, y=age, fill=un)) +
geom_bar(stat="identity", position="dodge")
ggplot(un_data, aes(x=YEAR, y=age, fill=un)) +
geom_bar(stat="identity", position="dodge")
ggplot(un_data, aes(x=YEAR, y=age, fill=un)) +
geom_bar(stat="identity", position="dodge")
un_data %>%
gather(age, un, -YEAR) %>%
View
un_data %>%
gather(age, un, -YEAR)
ggplot(un_data, aes(x=YEAR, y=age, fill=un)) +
geom_bar(stat="identity", position="dodge")
gather()
ggplot(new, aes(x=YEAR, y=age, fill=un)) +
geom_bar(stat="identity", position="dodge")
ggplot(new, aes(x=YEAR, y=age, fill=un)) +
geom_bar(stat="identity", position="dodge")
newas <-un_data %>%
gather(age, un, -YEAR)
ggplot(newas, aes(x=YEAR, y=age, fill=un)) +
geom_bar(stat="identity", position="dodge")
